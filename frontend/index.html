<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Record Interview</title>

  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <main class="app">

    <h1>ğŸ¤ Interview Recorder</h1>

    <section class="layout">

      <!-- LEFT: RECORD -->
      <section class="card">
        <h2>ğŸ¥ Äiá»u khiá»ƒn ghi hÃ¬nh</h2>

        <!-- NEW: sessionId input -->
        <div style="margin:8px 0">
          <label for="sessionIdInput" class="muted" style="display:block;margin-bottom:6px">Session ID (vd: sess_xxx):</label>
          <input id="sessionIdInput" placeholder="Nháº­p sessionId tá»« backend" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(148,163,184,.25);background:transparent;color:var(--text)">
        </div>

        <div class="controls">
          <button id="btnInit">ğŸ“¸ Xin quyá»n camera</button>
          <button id="btnStart" disabled>ğŸ¬ Báº¯t Ä‘áº§u ghi</button>
          <button id="btnStop" disabled>â¹ï¸ Dá»«ng</button>
          <button id="btnUpload" disabled>â˜ï¸ Upload</button>

          <!-- NÃºt káº¿t thÃºc phiÃªn (ban Ä‘áº§u disabled, sáº½ enable khi Ä‘á»§ cÃ¢u) -->
          <button id="btnEndSession" style="background:#ef4444;margin-left:6px" disabled>ğŸ”’ Káº¿t thÃºc phiÃªn</button>
        </div>

        <!-- Hiá»ƒn thá»‹ thá»i gian káº¿t thÃºc (náº¿u cÃ³) -->
        <div id="sessionEndedAt" class="muted" style="margin-top:8px;"></div>

        <div id="cameraBanner" class="hidden">
          <span>ğŸš« KhÃ´ng vÃ o Ä‘Æ°á»£c camera</span>
        </div>

        <div class="video-grid">
          <div>
            <p class="muted">Preview</p>
            <video id="preview" class="mirrored" autoplay muted playsinline></video>
          </div>

          <div>
            <p class="muted">Playback</p>
            <video id="playback" class="mirrored" controls></video>
            <div id="downloadLink" class="muted">ChÆ°a cÃ³ video.</div>
          </div>
        </div>

        <div id="log" class="log">[Log] Khá»Ÿi Ä‘á»™ng...</div>
      </section>

      <!-- RIGHT: STATE -->
      <section class="card">
        <h2>ğŸ§  Tráº¡ng thÃ¡i bÃ i nÃ³i</h2>

        <p class="muted">
          CÃ¢u hiá»‡n táº¡i:
          <strong id="currentQuestionLabel">1</strong>/<span id="totalQuestionLabel">4</span>
        </p>

        <div id="questionDots" class="dot-list"></div>

        <p class="muted"><strong>CÃ¢u Ä‘Ã£ tráº£ lá»i:</strong></p>
        <div id="answeredList"></div>
      </section>

    </section>
  </main>

  <script type="module" src="./app.js"></script>
</body>
</html>
